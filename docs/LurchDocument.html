<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Class: LurchDocument</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Class: LurchDocument</h1>

    




<section>

<header>
    
        <h2><span class="attribs"><span class="type-signature"></span></span>LurchDocument<span class="signature">(editor)</span><span class="type-signature"></span></h2>
        
            <div class="class-description"><p>A Lurch document will have several parts, including at least the following.</p>
<ul>
<li>The document content as the user sees it in the editor (HTML)</li>
<li>Any per-document settings stored in the document as metadata (JSON)</li>
<li>Information about dependencies on which the document depents (the form of
which has not yet been decided)</li>
</ul>
<p>When stored in a filesystem, the document must contain all three of these
parts, but when displayed in the editor, it should show only the first of
them, keeping the rest somewhere outside of the user's view.  And yet those
other parts will be editable by the user, through a UI not yet developed.
And so when the document is saved, the latest versions of all three parts of
the document must be saved, not just the part visible in the editor.</p>
<p>This class provides a clean API for moving documents between any filesystem
and the editor.  It is an ephemeral/disposable class, in the sense that you
will often create an instance just for use in one command, and then let it be
garbage collected.  Examples:</p>
<pre class="prettyprint source lang-js"><code>// Clear out the editor, as in response to File > New:
new LurchDocument( editor ).newDocument()
// Get the document from the editor, in a form ready to save
// (that is, including all of its parts, not just what's visible in the UI):
const doc = new LurchDocument( editor ).getDocument()
// Load into the editor a document retrieved from a filesystem, which will
// have all 3 parts described above, only one of which should be shown:
new LurchDocument( editor ).setDocument( doc )
</code></pre></div>
        
    
</header>

<article>
    <div class="container-overview">
    
        

    
    <h2>Constructor</h2>
    

    
    <h4 class="name" id="LurchDocument"><span class="type-signature"></span>new LurchDocument<span class="signature">(editor)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Construct a new instance for reading and/or writing data and metadata
to and/or from the given editor.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>editor</code></td>
            

            <td class="type">
            
                
<span class="param-type">tinymce.editor</span>


            
            </td>

            

            

            <td class="description last"><p>the editor with which this object will
interface</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lurch-document.js.html">lurch-document.js</a>, <a href="lurch-document.js.html#line33">line 33</a>
    </li></ul></dd>
    

    

    

    
</dl>




















    
    </div>

    

    

    
        <h3 class="subsection-title">Classes</h3>

        <dl>
            <dt><a href="LurchDocument.html">LurchDocument</a></dt>
            <dd></dd>
        </dl>
    

    

    

    

    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    
    <h4 class="name" id="getDocument"><span class="type-signature"></span>getDocument<span class="signature">()</span><span class="type-signature"> &rarr; {string}</span></h4>
    

    



<div class="description">
    <p>Return the document being edited by the editor that was given at
construction time.  This includes its visible content as well as its
metdata, which includes document settings and dependencies.</p>
<p>NOTE: So far only the editor's visible content is supported.  Later, when
per-document settings and dependencies have been designed, we will come
back here and add those features, too.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lurch-document.js.html">lurch-document.js</a>, <a href="lurch-document.js.html#line92">line 92</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>the document in string form, ready to be stored in a
filesystem</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">string</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="newDocument"><span class="type-signature"></span>newDocument<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Clear out the contents of the editor given at construction time.  This
includes clearing out its content as well as any metdata, including
document settings and dependencies.</p>
<p>NOTE: So far only the clearing of the editor's content has been
implemented.  Later, when per-document settings and dependencies have
been designed, we will come back here and add those features, too.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lurch-document.js.html">lurch-document.js</a>, <a href="lurch-document.js.html#line55">line 55</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="setDocument"><span class="type-signature"></span>setDocument<span class="signature">(document)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Load the given document into the editor given at construction time.  This
will replace what's visible in the UI with the visible portion of the
given document, and will also replace the invisible document settings and
dependencies with those of the given document.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>document</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>the document as it was retrieved from a
filesystem, ready to be loaded into this editor</p>
<p>NOTE: So far only filling the editor's content has been implemented.
Later, when per-document settings and dependencies have been designed, we
will come back here and add those features, too.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lurch-document.js.html">lurch-document.js</a>, <a href="lurch-document.js.html#line74">line 74</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-GoogleDriveUI.html">GoogleDriveUI</a></li><li><a href="module-GoogleDriveUtilities.html">GoogleDriveUtilities</a></li><li><a href="module-SettingsInstaller.html">SettingsInstaller</a></li><li><a href="module-Utilities.html">Utilities</a></li></ul><h3>Classes</h3><ul><li><a href="BoolSettingMetadata.html">BoolSettingMetadata</a></li><li><a href="CategorySettingMetadata.html">CategorySettingMetadata</a></li><li><a href="ColorSettingMetadata.html">ColorSettingMetadata</a></li><li><a href="LurchDocument.html">LurchDocument</a></li><li><a href="NoteMetadata.html">NoteMetadata</a></li><li><a href="SettingMetadata.html">SettingMetadata</a></li><li><a href="Settings.html">Settings</a></li><li><a href="SettingsCategoryMetadata.html">SettingsCategoryMetadata</a></li><li><a href="SettingsMetadata.html">SettingsMetadata</a></li><li><a href="TextSettingMetadata.html">TextSettingMetadata</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.2</a>
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>