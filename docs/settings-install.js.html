<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: settings-install.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: settings-install.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>
/**
 * This module exports one function that installs in a TinyMCE editor features
 * for editing application settings, and it also exports the settings object
 * itself, for reading/writing specific settings.
 * 
 * @module SettingsInstaller
 */

import { Settings } from './settings.js'
import {
    SettingsMetadata, SettingsCategoryMetadata, BoolSettingMetadata,
    ColorSettingMetadata, CategorySettingMetadata, TextSettingMetadata,
    NoteMetadata
} from './settings-metadata.js'

/**
 * This is a silly example of app setting metadata for now, because we have not
 * yet defined what the actual settings for this app will be.  However, this
 * collection of settings includes one from each type of setting, and two
 * different categories, so that we can test settings dialogs now, even before
 * we have the full collection of settings we will actually show to users in the
 * Lurch app.  Later, we can replace this with the actual definition of the
 * metadata for the app's settings.
 */
export const appSettings = new Settings(
    'Application settings',
    new SettingsMetadata(
        new SettingsCategoryMetadata(
            'Example category 1',
            new NoteMetadata(
                'These are not the real application settings.  '
              + 'This is just a temporary demo.',
                'warn'
            ),
            new BoolSettingMetadata(
                'example checkbox',
                'Example boolean value',
                false
            ),
            new ColorSettingMetadata(
                'example color',
                'Example color value',
                'red'
            )
        ),
        new SettingsCategoryMetadata(
            'Example category 2',
            new TextSettingMetadata(
                'example text input',
                'Example string value',
                'Henry'
            ),
            new NoteMetadata(
                'Notes of any type with basic HTML content can be inserted '
                + 'between any two settings.'
            ),
            new CategorySettingMetadata(
                'example categorical input',
                'Example element of a finite set',
                [ 'happy', 'sad', 'neither' ],
                'happy'
            )
        )
    )
)

/**
 * Installs in a given TinyMCE editor the UI features for editing application
 * settings.
 * 
 * @param {tinymce.Editor} editor - the editor into which to install the
 *   features
 * @function
 */
export const installSettings = editor => {
    editor.ui.registry.addButton( 'settings', {
        icon : 'preferences',
        tooltip : 'Edit application settings',
        onAction : () => {
            appSettings.load()
            appSettings.userEdit( editor ).then( changes => {
                if ( changes.length > 0 ) appSettings.save()
            } )
        }
    } )  
}
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-GoogleDriveUI.html">GoogleDriveUI</a></li><li><a href="module-GoogleDriveUtilities.html">GoogleDriveUtilities</a></li><li><a href="module-SettingsInstaller.html">SettingsInstaller</a></li><li><a href="module-Utilities.html">Utilities</a></li></ul><h3>Classes</h3><ul><li><a href="BoolSettingMetadata.html">BoolSettingMetadata</a></li><li><a href="CategorySettingMetadata.html">CategorySettingMetadata</a></li><li><a href="ColorSettingMetadata.html">ColorSettingMetadata</a></li><li><a href="NoteMetadata.html">NoteMetadata</a></li><li><a href="SettingMetadata.html">SettingMetadata</a></li><li><a href="Settings.html">Settings</a></li><li><a href="SettingsCategoryMetadata.html">SettingsCategoryMetadata</a></li><li><a href="SettingsMetadata.html">SettingsMetadata</a></li><li><a href="TextSettingMetadata.html">TextSettingMetadata</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.2</a> on Sat Aug 05 2023 16:51:06 GMT-0400 (Eastern Daylight Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
