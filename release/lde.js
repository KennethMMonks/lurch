var LDEDocument,Structure,expectedArgumentCount,functions,isInTheDocument,slice=[].slice;"undefined"!=typeof require&&null!==require?Structure=require("./structure").Structure:"undefined"!=typeof WorkerGlobalScope&&null!==WorkerGlobalScope?importScripts("structure.js"):null!=("undefined"!=typeof self&&null!==self?self.importScripts:void 0)&&importScripts("release/structure.js"),(LDEDocument=(new Structure).attr({id:"root"})).trackIDs(),(functions={}).getDocument=function(){return LDEDocument},isInTheDocument=function(e){for(;e instanceof Structure;){if(e===LDEDocument)return!0;e=e.parent()}return!1},functions.insert=function(e,t,n){var r,u;if(null!=(u=Structure.instanceWithID(t))&&0<=n&&n<=u.children().length&&isInTheDocument(u)&&null!=(r=Structure.fromJSON(e).setup()))return u.insertChild(r,n),r.trackIDs()},functions.delete=function(e){var t;if(null!=(t=Structure.instanceWithID(e))&&isInTheDocument(t)&&t!==LDEDocument)return t.removeFromParent(),t.untrackIDs()},functions.replace=function(e,t){var n,r;if(null!=(r=Structure.instanceWithID(e))&&isInTheDocument(r)&&r!==LDEDocument&&null!=(n=Structure.fromJSON(t).setup()))return r.replaceWith(n),r.untrackIDs(),n.trackIDs()},functions.setAttribute=function(e,t,n){var r;if(null!=(r=Structure.instanceWithID(e))&&isInTheDocument(r)&&("id"===t&&r.untrackIDs(!1),r.setExternalAttribute(t,n),"id"===t))return r.trackIDs(!1)},("undefined"!=typeof WorkerGlobalScope&&null!==WorkerGlobalScope||null!=("undefined"!=typeof self&&null!==self?self.importScripts:void 0))&&(expectedArgumentCount={insert:3,delete:1,replace:2,setAttribute:3,getDocument:0},self.addEventListener("message",function(e){var t,n,r;if(r=e.data,n=r[0],t=2<=r.length?slice.call(r,1):[],expectedArgumentCount[n]===t.length)return"getDocument"===n?self.postMessage(functions.getDocument().toJSON()):functions[n].apply(functions,t)})),"undefined"!=typeof exports&&null!==exports&&(exports.Structure=Structure,exports.insert=functions.insert,exports.delete=functions.delete,exports.replace=functions.replace,exports.setAttribute=functions.setAttribute,exports.getDocument=functions.getDocument);
//# sourceMappingURL=lde.js.map
