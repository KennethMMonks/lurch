var InnerScriptPath,LDEWorker,Worker;"undefined"==typeof require||null===require||void 0!==Worker&&null!==Worker?InnerScriptPath="worker-internal.js":(Worker=require("webworker-threads").Worker,InnerScriptPath="release/worker-internal.js"),LDEWorker=function(){function r(){this.worker=new Worker(InnerScriptPath),this.worker.addEventListener("message",function(r){return function(e){return r.runAndClearCallback(e.data)}}(this))}return r.prototype.saveCallback=function(r){var e;for(null==this.callbacks&&(this.callbacks={}),e=0;this.callbacks.hasOwnProperty(e);)e++;return this.callbacks[e]=r,e},r.prototype.runAndClearCallback=function(r){var e;return null==this.callbacks&&(this.callbacks={}),e=this.callbacks[r.id],delete this.callbacks[r.id],delete r.id,"function"==typeof e?e(r):void 0},r.prototype.runTaskThenCallback=function(r,e){return r.id=this.saveCallback(e),this.worker.postMessage(r)},r.prototype.installScript=function(r,e){return this.runTaskThenCallback({type:"install",filename:r},e)},r}(),"undefined"!=typeof exports&&null!==exports&&(exports.LDEWorker=LDEWorker);
//# sourceMappingURL=worker.js.map
