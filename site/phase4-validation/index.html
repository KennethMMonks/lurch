<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../img/favicon.ico">
        <title>Phase 4, Validation - Lurch Deductive Engine Documentation</title>
        <link href="../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../css/font-awesome-4.5.0.css" rel="stylesheet">
        <link href="../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="../css/highlight.css">
        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        <script src="../js/jquery-1.10.2.min.js"></script>
        <script src="../js/bootstrap-3.0.3.min.js"></script>
        <script src="../js/highlight.pack.js"></script> 
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="..">Lurch Deductive Engine Documentation</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                    <li >
                        <a href="..">Home</a>
                    </li>
                    <li class="dropdown active">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Design Plans <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
<li >
    <a href="../design-overview/">Overview</a>
</li>
                            
<li >
    <a href="../phase1-structures/">Phase 1, Structures</a>
</li>
                            
<li >
    <a href="../phase2-input-tree/">Phase 2, The Input Tree</a>
</li>
                            
<li >
    <a href="../phase3-interpretation/">Phase 3, Interpretation</a>
</li>
                            
<li class="active">
    <a href="./">Phase 4, Validation</a>
</li>
                            
<li >
    <a href="../phaseN-archive/">Phase N, List of outdated phases</a>
</li>
                            
<li >
    <a href="../enhancements/">Enhancements for Later</a>
</li>
                            
<li >
    <a href="../ideas/">Ideas Archive</a>
</li>
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">API Documentation <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
<li >
    <a href="../api-overview/">Overview</a>
</li>
                            
<li >
    <a href="../api-lde/">The LDE</a>
</li>
                            
<li >
    <a href="../api-structures/">Structures</a>
</li>
                        </ul>
                    </li>
                </ul>

            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                        <i class="fa fa-search"></i> Search
                    </a>
                </li>
                    <li >
                        <a rel="next" href="../phase3-interpretation/">
                            <i class="fa fa-arrow-left"></i> Previous
                        </a>
                    </li>
                    <li >
                        <a rel="prev" href="../phaseN-archive/">
                            Next <i class="fa fa-arrow-right"></i>
                        </a>
                    </li>
            </ul>
        </div>
    </div>
</div>

        <div class="container">
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
        <li class="main active"><a href="#lde-design-phase-4-validation">LDE Design Phase 4: Validation</a></li>
            <li><a href="#content">Content</a></li>
            <li><a href="#goal">Goal</a></li>
            <li><a href="#status">Status</a></li>
            <li><a href="#automatic-validation-enqueueing">Automatic validation enqueueing</a></li>
            <li><a href="#automatic-validation-processing">Automatic validation processing</a></li>
            <li><a href="#feedback-messages">Feedback messages</a></li>
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<p>We have designed the work on the Lurch Deductive Engine (LDE) to progress in
phases.  The idea is that each phase ends with a completed whole that can be
tested in that state, and that provides more features than the previous
state did.  By the time the final phase is complete, the LDE will be a
robust and useful product.</p>
<h1 id="lde-design-phase-4-validation">LDE Design Phase 4: Validation</h1>
<h2 id="content">Content</h2>
<p>In this phase, we extend the formerly rudimentary <code>OutputStructure</code> class
with its most important functionality: validating steps of work.</p>
<h2 id="goal">Goal</h2>
<p>Instance of the <code>OutputStructure</code> class will automatically validate
themselves as they are added to the Output Tree.</p>
<h2 id="status">Status</h2>
<p>This has not been implemented.  See the tasks below.</p>
<h2 id="automatic-validation-enqueueing">Automatic validation enqueueing</h2>
<ul class="task-list">
<li class="task-list-item"><input type="checkbox" disabled/> Define a class variable in the <code>OutputStructure</code> class, an array of
   all instances that need to be validated.  Initialize it to the empty
   array.</li>
<li class="task-list-item"><input type="checkbox" disabled/> Extend the <code>OutputStructure</code> class with an instance method that adds
   that instance to the list in that class variable iff the instance has a
   <code>validate()</code> method.</li>
<li class="task-list-item"><input type="checkbox" disabled/> Add documentation in that file describing the changes just made.</li>
<li class="task-list-item"><input type="checkbox" disabled/> Extend the unit tests for the <code>OutputStructure</code> module to verify
   that this works as described.</li>
<li class="task-list-item"><input type="checkbox" disabled/> Add documentation in that test file describing the changes just made.</li>
<li class="task-list-item"><input type="checkbox" disabled/> Extend the <code>recursiveInterpret</code> routine so that, for any
   <code>OutputStructure</code> instances it had to create (not just re-use from its
   cache), it calls the method that adds them to the to-validate list.</li>
<li class="task-list-item"><input type="checkbox" disabled/> Add documentation in that file describing the changes just made.</li>
<li class="task-list-item"><input type="checkbox" disabled/> Extend the unit tests for the <code>InputStructure</code> module to verify
   that this works as described.</li>
<li class="task-list-item"><input type="checkbox" disabled/> Add documentation in that test file describing the changes just made.</li>
<li class="task-list-item"><input type="checkbox" disabled/> Once the unit tests pass, build everything and commit.</li>
<li class="task-list-item"><input type="checkbox" disabled/> Add documentation to the <code>OutputStructure</code> class, explaining that any
   subclass that wishes to implement a <code>validate()</code> routine must follow the
   following rules when it does so.<ul>
<li>The functions should be written asynchronously, taking callbacks that
  notify when complete.  Care should be taken to ensure that no such
  function throws an error.  Even if some code in them malfunctions, the
  error should be caught and included as feedback in the node to be
  validated, stating that an internal error occurred in the Lurch code.</li>
<li>The result of X.validate() must be contingent only upon any
  <code>OutputStructure</code> Y accessible to X.</li>
<li>Because of the restrictions on interpretation routines, if X exists in
  the output tree, then so does everything accessible to it upon which
  it might depend.</li>
<li>Note that <code>validate()</code> routines, because they are asynchronous and may
  need to do lengthy tasks, should feel free to reference modules that
  do lengthy tasks in background threads, and send their results via
  callbacks.  (This is not a restriction, but rather an opportunity.)
  The matching module is a prime example of how this may later be used.</li>
<li>While the <code>validate()</code> routine for one <code>OutputStructure</code> instance X
  may add some other instance Y to the queue of things to validate,
  it may do so only if X is accessible to Y.</li>
</ul>
</li>
<li class="task-list-item"><input type="checkbox" disabled/> Rebuild the docs and commit.</li>
</ul>
<h2 id="automatic-validation-processing">Automatic validation processing</h2>
<ul class="task-list">
<li class="task-list-item"><input type="checkbox" disabled/> In the LDE module, run <code>setInterval()</code> at module creation so that it
   regularly (many times per second, but not so often as to consume copious
   CPU) checks to see if there is anything on the list of <code>OutputStructure</code>
   instances to be validated.  If there are any such things, call their
   <code>validate</code> routines (which are asynchronous).  The order in which these
   are processed is irrelevant.</li>
<li class="task-list-item"><input type="checkbox" disabled/> Add documentation in that file describing the changes just made.</li>
<li class="task-list-item"><input type="checkbox" disabled/> Extend the unit tests for the LDE module to verify that this works
   as described.  That is, create some <code>OutputStructure</code> subclasses that
   have <code>validate</code> routines, and some <code>InputStructure</code> subclasses whose
   <code>interpret</code> routines produce instances of those classes that know how to
   validate themselves.  Verify that validation actually does take place.</li>
<li class="task-list-item"><input type="checkbox" disabled/> Add documentation in that test file describing the changes just made.</li>
<li class="task-list-item"><input type="checkbox" disabled/> Once the unit tests pass, build everything and commit.</li>
</ul>
<h2 id="feedback-messages">Feedback messages</h2>
<ul class="task-list">
<li class="task-list-item"><input type="checkbox" disabled/> Add a function to the LDE module that can be called whenever the
   feedback on an <code>OutputStructure</code> in the Output Tree changes, and the
   function will send a message (to any listening client) containing this
   data: the ID of the origin of the node whose feedback changed, and the
   new feedback data.</li>
<li class="task-list-item"><input type="checkbox" disabled/> Update the documentation in that file to describe the changes just
   made.</li>
<li class="task-list-item"><input type="checkbox" disabled/> Extend the unit tests for the LDE module to verify that this
   works as described.  First, simply, just change the feedback of some
   nodes in the Output Tree and verify that messages are sent by the LDE to
   that effect.  Then extend the tests that go from API calls to validation
   results to ensure that the entire process works, from API calls that add
   to the Input Tree to feedback messages from validation being transmitted
   back.</li>
<li class="task-list-item"><input type="checkbox" disabled/> Add documentation in that test file describing the changes just made.</li>
<li class="task-list-item"><input type="checkbox" disabled/> Once the unit tests pass, build everything and commit.</li>
</ul></div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>var base_url = '..';</script>
        <script src="../js/base.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
        <script src="../search/require.js"></script>
        <script src="../search/search.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Search</h4>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form role="form">
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="Keyboard Shortcuts Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Keyboard Shortcuts</h4>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td><kbd>&larr;</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td><kbd>&rarr;</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>


    </body>
</html>
