<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../img/favicon.ico">
        <title>Phase 2, Basic Validation - Lurch Deductive Engine Documentation</title>
        <link href="../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../css/font-awesome-4.5.0.css" rel="stylesheet">
        <link href="../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="../css/highlight.css">
        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        <script src="../js/jquery-1.10.2.min.js"></script>
        <script src="../js/bootstrap-3.0.3.min.js"></script>
        <script src="../js/highlight.pack.js"></script> 
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="..">Lurch Deductive Engine Documentation</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                    <li >
                        <a href="..">Home</a>
                    </li>
                    <li class="dropdown active">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Design Plans <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
<li >
    <a href="../design-overview/">Overview</a>
</li>
                            
<li >
    <a href="../phase1-structures/">Phase 1, Structures</a>
</li>
                            
<li class="active">
    <a href="./">Phase 2, Basic Validation</a>
</li>
                            
<li >
    <a href="../phase3-client/">Phase 3, The Client</a>
</li>
                            
<li >
    <a href="../phase4-dependencies/">Phase 4, Dependencies</a>
</li>
                            
<li >
    <a href="../phase5-background/">Phase 5, Background Queue</a>
</li>
                            
<li >
    <a href="../phase6-strings/">Phase 6, String Matching</a>
</li>
                            
<li >
    <a href="../phase7-theorems/">Phase 7, Theorems and Proofs</a>
</li>
                            
<li >
    <a href="../phase8-expressions/">Phase 8, Expression Trees</a>
</li>
                            
<li >
    <a href="../phase9-parsing/">Phase 9, Parsing Rules</a>
</li>
                            
<li >
    <a href="../phase10-declarations/">Phase 10, Declarations</a>
</li>
                            
<li >
    <a href="../phase11-features/">Phase 11, Bonus Features</a>
</li>
                            
<li >
    <a href="../enhancements/">Enhancements for Later</a>
</li>
                            
<li >
    <a href="../ideas/">Ideas Archive</a>
</li>
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">API Documentation <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
<li >
    <a href="../api-overview/">Overview</a>
</li>
                            
<li >
    <a href="../api-structures/">Structures</a>
</li>
                            
<li >
    <a href="../api-lde/">The LDE</a>
</li>
                        </ul>
                    </li>
                </ul>

            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                        <i class="fa fa-search"></i> Search
                    </a>
                </li>
                    <li >
                        <a rel="next" href="../phase1-structures/">
                            <i class="fa fa-arrow-left"></i> Previous
                        </a>
                    </li>
                    <li >
                        <a rel="prev" href="../phase3-client/">
                            Next <i class="fa fa-arrow-right"></i>
                        </a>
                    </li>
            </ul>
        </div>
    </div>
</div>

        <div class="container">
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
        <li class="main active"><a href="#lde-design-phase-2-basic-validation">LDE Design Phase 2: Basic Validation</a></li>
            <li><a href="#content">Content</a></li>
            <li><a href="#goal">Goal</a></li>
            <li><a href="#status">Status</a></li>
        <li class="main "><a href="#atomic-expressions">Atomic expressions</a></li>
        <li class="main "><a href="#definitions-of-the-simplest-rules-code-based-rules">Definitions of the simplest rules: code-based rules</a></li>
        <li class="main "><a href="#formal-systems-or-mathematical-topics">Formal systems (or "mathematical topics")</a></li>
        <li class="main "><a href="#unit-testing">Unit testing</a></li>
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<p>We have designed the work on the Lurch Deductive Engine (LDE) to progress in
phases.  The idea is that each phase ends with a completed whole that can be
tested in that state, and that provides more features than the previous
state did.  By the time the final phase is complete, the LDE will be a
robust and useful product.</p>
<h1 id="lde-design-phase-2-basic-validation">LDE Design Phase 2: Basic Validation</h1>
<h2 id="content">Content</h2>
<p>This phase defines:</p>
<ul>
<li>Atomic expressions (just expressions whose meaning is a string, and
   contain no other structures)</li>
<li>Definitions of the simplest rule type only: code rules written in
   JavaScript</li>
<li>Formal systems (or "mathematical topics", which are structures we can
   put rules inside of)</li>
</ul>
<h2 id="goal">Goal</h2>
<p>This enables really simple formal systems, like TriX game.</p>
<p>While the intent is for any of the nontrivial processing tasks to be placed
in a queue and handled when the CPU has time, I leave that hassle out of the
current design plans.  A later phase will add support for this.</p>
<h2 id="status">Status</h2>
<p>This phase has not yet been implemented.  Once it has been implemented, its
contents will be documented in the API Documentation available from the
navigation menu at the top of this site.</p>
<h1 id="atomic-expressions">Atomic expressions</h1>
<ul>
<li><code>E.goals == [ "validated" ]</code></li>
<li><code>E.validate()</code> does this:<ul>
<li>If <code>E.children().length &gt; 0</code> then
  <code>E.feedback("X","only atomic expressions supported so far")</code></li>
<li>Otherwise <code>E.feedback(none,none)</code></li>
<li><code>E.meaning()</code> returns <code>E.text()</code>, but we may decide not to use a
  loaded word like "meaning" and instead just leave .text() to be
  called directly, if <code>.meaning()</code> seems too confusing or
  philosophically overcommitted</li>
<li><code>E.wasChanged()</code> calls <code>E.clearComputedAttributes()</code></li>
<li>We have not yet specified the implementation for
  <code>E.wasInserted/wasRemoved/wasChanged()</code>.  Does it need to call
  <code>validate()</code> in anything?</li>
</ul>
</li>
</ul>
<h1 id="definitions-of-the-simplest-rules-code-based-rules">Definitions of the simplest rules: code-based rules</h1>
<ul>
<li><code>R.validate()</code> does this:<ul>
<li>If <code>R.attributes().code!=true</code> then
  <code>R.feedback("X","only code rules are supported so far")</code></li>
<li>If <code>R.text()</code> isn't valid JavaScript code that defines a function,
  then <code>R.feedback("X","...")</code></li>
<li>Otherwise <code>R.feedback("check","nice code rule, dude")</code></li>
<li>In any case, whenever <code>R.validate()</code> terminates, it calls
  <code>E.clearComputedAttributes()</code> for every E in <code>R.whatCitesMe()</code>.</li>
</ul>
</li>
<li>Extend <code>E.validate()</code>, the routine for atomic expressions, by replacing
   its "otherwise" step with these steps:<ul>
<li>If <code>E.attributes().reason</code> doesn't exist, do <code>E.feedback(none,none)</code>
  and stop.</li>
<li>Let r=<code>E.attributes().reason</code>.</li>
<li>If <code>E.findCited(r)</code> is undefined, then
  <code>E.feedback("X","no such rule")</code></li>
<li>Let r=<code>E.findCited(r)</code>.</li>
<li>If <code>r.getComputedAttribute("validated")</code> is undefined, then stop
  here.  When r gets validated, it will trigger a re-validation of E,
  as in the final bullet point under <code>R.validate()</code>, above.</li>
<li>Let f be the JavaScript function defined in <code>r.text()</code> and call
  <code>f(E)</code>.</li>
<li>If <code>f(E)</code> ends with an error, then
  <code>E.feedback("X","internal rule error")</code>.</li>
<li>If <code>f(E)</code> doesn't terminate soon, then
  <code>E.feedback("X","internal rule error")</code>.</li>
<li>If <code>f(E)</code> is not a correctly formed validation result object, then
  <code>E.feedback("X","internal rule error")</code>.</li>
<li>Otherwise <code>E.feedback(f(E).type,f(E).message)</code>.</li>
<li>We have not yet specified the implementation for
  <code>R.wasInserted/wasRemoved/wasChanged()</code>.  Does it need to call
  <code>validate()</code> in anything?</li>
</ul>
</li>
</ul>
<h1 id="formal-systems-or-mathematical-topics">Formal systems (or "mathematical topics")</h1>
<ul>
<li><code>F.exports()</code> returns an array composed of these things, in the order
   they appear in the document:<ul>
<li>any rule in <code>F.children()</code></li>
<li>any element of <code>F'.exports()</code> for any formal system F' in
  <code>F.children()</code></li>
</ul>
</li>
<li>Extend <code>S.findCited(n)</code> to also check <code>F.exports()</code> whenever it
   encounters an accessible formal system</li>
<li>Extend <code>S.whatCitesMe()</code> to also looks at the scope of <code>S.parent()</code> iff
   it is a formal system (and its <code>parent()</code> iff that is a formal system,
   and so on)</li>
<li>We have not yet specified the implementation for
   <code>S.wasInserted/wasRemoved/wasChanged()</code>.  Does it need to call
   <code>validate()</code> in anything?</li>
</ul>
<h1 id="unit-testing">Unit testing</h1>
<p>How we could do unit testing on this simple LDE:</p>
<ul>
<li>Fire up the LDE so that its document is new and thus blank.</li>
<li>Set up a listener for the "computation finished" signals from the LDE,
   storing the results for use in testing.</li>
<li>Tell the LDE to add three children to the LDE Document: a rule, a step
   using it correctly, and a step using it incorrectly.</li>
<li>Wait until we receive the signal that says the LDE has finished
   computing.</li>
<li>Examine the computation results stored in step 2 and verify correct
   processing of the rule and two steps.</li>
</ul>
<p>We might even extend this test with more steps.</p>
<ul>
<li>Send a signal to the LDE to alter the third child of the document,
   making it a correct use of the rule.</li>
<li>Wait for computation to finish and check to be sure it re-validated that
   step as correct now.</li>
</ul></div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>var base_url = '..';</script>
        <script src="../js/base.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
        <script src="../search/require.js"></script>
        <script src="../search/search.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Search</h4>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form role="form">
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="Keyboard Shortcuts Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Keyboard Shortcuts</h4>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td><kbd>&larr;</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td><kbd>&rarr;</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>


    </body>
</html>
