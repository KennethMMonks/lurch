<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../img/favicon.ico">
        <title>Phase 5, Labels - Lurch Deductive Engine Documentation</title>
        <link href="../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../css/font-awesome-4.5.0.css" rel="stylesheet">
        <link href="../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="../css/highlight.css">
        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        <script src="../js/jquery-1.10.2.min.js"></script>
        <script src="../js/bootstrap-3.0.3.min.js"></script>
        <script src="../js/highlight.pack.js"></script> 
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="..">Lurch Deductive Engine Documentation</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                    <li >
                        <a href="..">Home</a>
                    </li>
                    <li class="dropdown active">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Design Plans <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
<li >
    <a href="../design-overview/">Overview</a>
</li>
                            
<li >
    <a href="../phase1-structures/">Phase 1, Structures</a>
</li>
                            
<li >
    <a href="../phase2-input-tree/">Phase 2, The Input Tree</a>
</li>
                            
<li >
    <a href="../phase3-interpretation/">Phase 3, Interpretation</a>
</li>
                            
<li >
    <a href="../phase4-validation/">Phase 4, Validation</a>
</li>
                            
<li class="active">
    <a href="./">Phase 5, Labels</a>
</li>
                            
<li >
    <a href="../phase6-expressions/">Phase 6, Expressions</a>
</li>
                            
<li >
    <a href="../phase7-citations/">Phase 7, Citations</a>
</li>
                            
<li >
    <a href="../phase8-validating-steps/">Phase 8, Validating Steps</a>
</li>
                            
<li >
    <a href="../phaseN-archive/">Phase N, List of outdated phases</a>
</li>
                            
<li >
    <a href="../enhancements/">Enhancements for Later</a>
</li>
                            
<li >
    <a href="../ideas/">Ideas Archive</a>
</li>
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">API Documentation <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
<li >
    <a href="../api-overview/">Overview</a>
</li>
                            
<li >
    <a href="../api-lde/">The LDE</a>
</li>
                            
<li >
    <a href="../api-structures/">Structures</a>
</li>
                        </ul>
                    </li>
                </ul>

            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                        <i class="fa fa-search"></i> Search
                    </a>
                </li>
                    <li >
                        <a rel="next" href="../phase4-validation/">
                            <i class="fa fa-arrow-left"></i> Previous
                        </a>
                    </li>
                    <li >
                        <a rel="prev" href="../phase6-expressions/">
                            Next <i class="fa fa-arrow-right"></i>
                        </a>
                    </li>
            </ul>
        </div>
    </div>
</div>

        <div class="container">
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
        <li class="main active"><a href="#lde-design-phase-5-labels">LDE Design Phase 5: Labels</a></li>
            <li><a href="#content">Content</a></li>
            <li><a href="#goal">Goal</a></li>
            <li><a href="#status">Status</a></li>
            <li><a href="#design">Design</a></li>
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<p>We have designed the work on the Lurch Deductive Engine (LDE) to progress in
phases.  The idea is that each phase ends with a completed whole that can be
tested in that state, and that provides more features than the previous
state did.  By the time the final phase is complete, the LDE will be a
robust and useful product.</p>
<h1 id="lde-design-phase-5-labels">LDE Design Phase 5: Labels</h1>
<h2 id="content">Content</h2>
<p>In this phase, we build on the foundation of generic interpretation and
validation to build the first feature necessary for validating steps of
work:  Labels.</p>
<h2 id="goal">Goal</h2>
<p>By the end of this phase, the Input Tree can contain labels that will be
preserved and transferred to the Output Tree by interpretation, and are
available for use in validation.</p>
<h2 id="status">Status</h2>
<p>This has not been implemented.  In fact, the design below has not yet been
converted into actionable tasks.  So the next steps are to do that
conversion, and then execute the resulting tasks.</p>
<h2 id="design">Design</h2>
<p>We have high hopes for the flexibility of labels.  We don't want "1" to be
a label and then the user says "1." and it's not recognized because of the
minor difference in punctuation.  Furthermore, if "Theorem 6" were a label
and the user said "thm 6" we might like that to be recognized.  So a label
is not a string, but a string together with a set of policies defining an
equivalence class surrounding that string in the space of all strings.  Of
course, a subset of the set of all strings is also defined by a predicate,
which would show up in JavaScript as a one-parameter function on strings
returning true/false values.</p>
<p>We therefore use this as our definition of "label."  That is, a label for
an <code>OutputStructure</code> A is really a function f such that f(L) is true iff A
answers to the label L.  Because an <code>OutputStructure</code> is a
JavaScript object, it can have a field that stores, in an array, all its
labels (as functions).  Like so:
 * <code>myOutputStructure.labelFunctions</code>, an array initialized to empty in the
   constructor
 * <code>myOutputStructure.hasLabel( L )</code> returns true iff some f in
   <code>myOutputStructure.labelFunctions</code> returns true on L, and false otherwise
 * We already have built into the generic <code>Structure</code> class (and therefore
   into its subclasses, including <code>OutputStructure</code> and <code>InputStructure</code>) a
   routine that can search backwards through all accessible nodes to find
   the first one satisfying a given predicate.  So we can simply look up
   labels from any point X in the <code>OutputTree</code> with CoffeeScript code like
   so: <code>lookupResult = X.firstAccessible ( y ) -&gt; y.hasLabel L</code></p>
<p>Explicit label bubbles in the document, connected by arrows to their
targets, can be passed directly from the UI to the IT without processing.
The interpretation phase will then have to take these steps:
 * Convert any labeling data into labeling predicates (as designed above)
   that get embedded into Output Tree nodes.
 * Delete any label bubbles, since they aren't part of validation, and
   their data has been embedded in their targets.
 * Hidden attributes will be passed directly from the UI to the Input Tree
   without processing, and converted similarly during the interpretation
   phase, but without the need to delete any label bubbles.
 * HTML structures like ordered lists will be converted, by the UI, as it
   creates the Input Tree, into hidden attributes, which would then be
   handled by the interpretation phase as in the previous bullet point.</p>
<p>Thus when the UI embeds into an <code>InputStructure</code> some information about a
label automatically assigned based on a numbered list, it can also embed
with it some data saying whether punctuation is optional, or any other
option that should be applied when checking to see if a label applies.  That
information will be used by the interpretation step when it creates label
predicates that it embeds in Output Tree nodes.</p></div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>var base_url = '..';</script>
        <script src="../js/base.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
        <script src="../search/require.js"></script>
        <script src="../search/search.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Search</h4>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form role="form">
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="Keyboard Shortcuts Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Keyboard Shortcuts</h4>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td><kbd>&larr;</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td><kbd>&rarr;</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>


    </body>
</html>
